<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" id="search" />
    <button id="searchBtn">search</button>
    <div style="height: 1000vh">
      <h1></h1>
    </div>
    <!-- <div>
      <h4>Numbers:</h4>
      <ul id="printNumbers"></ul>
    </div>

    <div>
      <label for="number">Enter a number:</label>
      <input type="number" id="number" />
      <button type="button" id="generateBtn">Generate table</button>
      <ul id="printNumbers2"></ul>
    </div>

    <div>
      <label for="sentense">Enter a sentense:</label>
      <input type="text" id="sentense" />
      <button type="button" id="generateSentenseBtn">Generate sentense</button>
      <ul id="printNumbers3"></ul>
    </div>
    <h4>Numbers</h4>
    <ul id="result2"></ul>
    <h4>Fruits & Vegetables</h4>
    <ul id="result3"></ul>

    <div>
      <button id="increment1">Increment 1</button>
      <button id="increment2">Increment 2</button>
      <p>Count 1: <span id="count1">0</span></p>
      <p>Count 2: <span id="count2">0</span></p>
      <p id="total"></p>
    </div>

    <form id="taskForm">
      <input type="text" id="task" />
      <select id="selectDay">
        <option value="monday">Monday</option>
        <option value="tuesday">Tuesday</option>
        <option value="saturday">Saturday</option>
      </select>
      <button type="submit">Submit</button>
    </form>
    <div>
      <div>
        <h4>Week days</h4>
        <ul id="weekDays"></ul>
      </div>
      <div>
        <h4>Weekend days</h4>
        <ul id="weekEndDays"></ul>
      </div>
    </div> -->

    <script>
      // function show() {
      //   console.log(this);
      // }
      // show();

      // function person(name) {
      //   this.name = name;
      // }

      // const user = {
      //   name: "Akash",
      //   greet: () => {
      //     console.log(this.name);
      //   },
      // };
      // user.greet();

      // const p1 = new person("Akash");
      // console.log(p1.name);

      // function Person(name, age) {
      //   this.sname = name;
      //   this.age = age;
      // }

      // const person3 = new Person("Raj", 23);
      // console.log("person 3", person3);

      // class Personal {
      //   constructor(name, age) {
      //     this.name = name;
      //     this.age = age;
      //   }

      //   greet() {
      //     console.log(`hello, this is ${this.name}`);
      //   }
      // }
      // const p4 = new Personal("Shruti", 23);
      // console.log("p4", p4);

      // function debounce(func, delay) {
      //   let timer;
      //   return function (...args) {
      //     clearTimeout(timer);
      //     timer = setTimeout(() => func.apply(this, args), delay);
      //   };
      // }
      // const handleSearch = debounce(
      //   (searchTerm) => console.log(searchTerm),
      //   1000
      // );

      // const searchBtn = document.querySelector("#searchBtn");

      // searchBtn.addEventListener("click", () => {
      //   const search = document.querySelector("#search").value;
      //   handleSearch(search);
      // });

      function debounce(func, delay) {
        let timer;
        return function (...args) {
          clearTimeout(timer);
          timer = setTimeout(() => func.apply(this, args), delay);
        };
      }

      const handleSearch = debounce(
        (searchedValue) => console.log(searchedValue),
        1500
      );

      const searchBtn = document.querySelector("#searchBtn");

      searchBtn.addEventListener("click", () => {
        const searchInput = document.querySelector("#search").value;
        handleSearch(searchInput);
      });

      // function debounce(func, delay) {
      //   let timer;
      //   return function (...args) {
      //     clearTimeout(timer);
      //     timer = setTimeout(() => func.apply(this, args), delay);
      //   };
      // }

      // const handleInput = (arg) => console.log("Hello ", arg);
      // const handleSearch = debounce(handleInput, 2000);
      // handleSearch("Raja");
      // handleSearch("Akash");
      // handleSearch("Kumar");

      // function throttle(func, delay) {
      //   let lastCall = 0;
      //   return function (...args) {
      //     const now = Date.now();
      //     if (now - lastCall >= delay) {
      //       lastCall = now;
      //       func.apply(this, args);
      //     }
      //   };
      // }

      function throttle(func, delay) {
        let lastCall = 0;
        return function (...args) {
          const now = Date.now();
          if (now - lastCall >= delay) {
            lastCall = now;
            func.apply(this, args);
          }
        };
      }

      const throttledScroll = throttle(() => console.log("Scrolled"), 2000);
      window.addEventListener("scroll", throttledScroll);

      function greetUser(greetingFn) {
        const name = "Akash";
        greetingFn(name);
      }

      const sayHello = (name) => {
        console.log(`Hello, ${name}!`);
      };

      greetUser(sayHello);

      // const numbers = [10, 20, 30, 40];
      // const sumOfAll = numbers.reduce((acc, curr) => {
      //   acc = acc + curr;
      //   return acc;
      // }, 0);
      // console.log("sumOfAll", sumOfAll);

      // const numbers2 = [5, 12, 45, 32, 8];
      // const maxNumber = numbers2.reduce((acc, curr) => {
      //   curr > acc ? (acc = curr) : acc;
      //   return acc;
      // }, 0);
      // console.log("maxNumber", maxNumber);

      // const fruits = ["apple", "banana", "apple", "orange", "banana", "apple"];
      // const fruitsResult = fruits.reduce((acc, curr) => {
      //   acc[curr] = acc[curr] ? acc[curr] + 1 : 1;
      //   return acc;
      // }, {});
      // console.log("fruitsResult", fruitsResult);

      // const nested = [
      //   [1, 2],
      //   [3, 4],
      //   [5, 6],
      // ];
      // const nestedResult = nested.reduce((acc, curr) => {
      //   acc = [...acc, ...curr];
      //   return acc;
      // }, []);
      // console.log("nestedResult", nestedResult);

      // const users = [
      //   { name: "Alice", role: "admin" },
      //   { name: "Bob", role: "user" },
      //   { name: "Charlie", role: "admin" },
      // ];

      // const userResult = users.reduce((acc, curr) => {
      //   acc[curr.role] = acc[curr.role] ? acc[curr.role] + 1 : 1;
      //   return acc;
      // }, {});
      // console.log("userResult", userResult);

      // const words = ["JavaScript", "is", "awesome"];
      // const wordsResult = words
      //   .reduce((acc, curr) => {
      //     acc = acc + " " + curr;
      //     return acc;
      //   }, "")
      //   .trim();
      // console.log("wordsResult", wordsResult);

      // const cart = [
      //   { item: "Shirt", price: 30 },
      //   { item: "Pants", price: 50 },
      //   { item: "Hat", price: 20 },
      // ];

      // const total = cart.reduce((acc, curr) => {
      //   acc = acc + curr.price;
      //   return acc;
      // }, 0);
      // console.log("total", total);

      // const numbers = [2, 3, 4];
      // const numberResult = numbers.reduce((acc, curr) => {
      //   acc = acc * curr;
      //   return acc;
      // }, 1);
      // console.log("numberResult", numberResult);

      // const scores = [80, 90, 100];
      // const scoresResult = scores.reduce((acc, curr) => {
      //   acc = acc + curr;
      //   return acc / scores.length;
      // }, 0);
      // console.log("scoresResult", scoresResult);

      // const flags = [true, true, false];
      // const flagsResult = flags.reduce((acc, curr) => acc && curr, true);
      // console.log("flagsResult", flagsResult);

      // const words = ["car", "bicycle", "airplane", "bus"];
      // const wordsResult = words.reduce((acc, curr) => {
      //   curr.length > acc.length ? (acc = curr) : acc;
      //   return acc;
      // }, "");
      // console.log("wordsResult", wordsResult);

      // const arr = [{ a: 1 }, { b: 2 }, { c: 3 }];
      // const arrResult = arr.reduce((acc, curr) => {
      //   acc = { ...acc, ...curr };
      //   return acc;
      // }, {});
      // console.log("arrResult", arrResult);

      // const sentence = "Hello World";
      // const sentenseResult = sentence
      //   .split("")
      //   .filter((char) => char !== " ")
      //   .reduce((acc, curr) => {
      //     acc[curr] = acc[curr] ? acc[curr] + 1 : 1;
      //     return acc;
      //   }, {});
      // console.log("sentenseResult", sentenseResult);

      // const animals = ["ant", "bear", "cat", "dog", "donkey"];
      // const animalsResult = animals.reduce((acc, curr) => {
      //   const firstLetter = curr[0];
      //   if (!acc[firstLetter]) {
      //     acc[firstLetter] = [];
      //   }
      //   acc[firstLetter].push(curr);
      //   return acc;
      // }, {});
      // console.log("animalsResult", animalsResult);

      const numbers = [1, 2, 3, 4, 5, 6];
      const numbersResult = numbers.reduce((acc, curr) => {
        let odd = 0;
        let even = 0;
        if (curr % 2 == 0) {
          even++;
          acc["even"] = (acc["even"] || 0) + 1;
        } else {
          odd++;
          acc["odd"] = (acc["odd"] || 0) + 1;
        }
        return acc;
      }, {});
      console.log("numbersResult", numbersResult);

      const pairs = [
        ["name", "Alice"],
        ["age", 25],
        ["role", "developer"],
      ];
      const pairsResult = pairs.reduce((acc, curr) => {
        acc[curr[0]] = curr[1];
        return acc;
      }, {});
      console.log("pairsResult", pairsResult);

      const users = [
        { name: "Alice", age: 30 },
        { name: "Bob", age: 24 },
        { name: "Charlie", age: 28 },
      ];

      const totalAge = users.reduce((acc, curr) => acc + curr.age, 0);
      const averageAge = (totalAge / users.length).toFixed(2);

      console.log("Average Age:", averageAge);

      const users2 = [
        { name: "Alice", role: "admin" },
        { name: "Bob", role: "user" },
        { name: "Charlie", role: "admin" },
      ];

      const uniqueRoles = users2.reduce((acc, curr) => {
        if (!acc.includes(curr.role)) {
          acc.push(curr.role);
        }
        return acc;
      }, []);

      console.log("Unique Roles:", uniqueRoles);

      users2.forEach((user) => {
        console.log(user.role);
      });

      console.log(users2.map((user) => user.role));

      // const name = "raj";
      // {
      //   const name = "akash";
      //   console.log(name);
      // }
      // console.log(name);

      console.log(name2);
      var name2 = "raj";

      printName();
      function printName() {
        console.log("raj");
      }

      const printName2 = () => console.log("Akash");
      printName2();

      const obj1 = {
        name: "raj kumar",
        callTeacher: function () {
          console.log(this.name);
        },
      };

      obj1.callTeacher();

      const user = {
        name: "Emma",
        greet() {
          console.log(`Hello, ${this.name}`);
        },
      };

      const greetUser2 = user.greet;
      greetUser2();

      const person = {
        name: "James",
        logInfo: function () {
          setTimeout(() => {
            console.log(`${this.name}`);
          }, 1000);
        },
      };

      person.logInfo();

      const greeting = function () {
        console.log(`Hello, ${this.name}`);
      };

      const user1 = { name: "John" };
      const user2 = { name: "Jane" };

      greeting.call(user1);
      greeting.call(user2);

      function displayInfo(age) {
        console.log(`${this.name} is ${age} years old.`);
      }

      const obj2 = { name: "Lucas" };
      const obj3 = { name: "Anna" };

      displayInfo.apply(obj2, [25]);
      displayInfo.apply(obj3, [30]);

      function show() {
        console.log(this);
      }

      show();

      const obj = {
        count: 0,
        increment: function () {
          setInterval(() => {
            this.count++;
            console.log(this.count);
          }, 1000);
        },
      };

      // obj.increment();

      function Person(name, age) {
        this.name = name;
        this.age = age;
        this.greet = function () {
          console.log(`Hello, ${this.name}`);
        };
      }

      const person1 = new Person("John", 30);
      person1.greet();

      let promise1 = new Promise((resolve) => {
        setTimeout(() => resolve("First"), 5000);
      });
      let promise2 = new Promise((resolve) =>
        setTimeout(resolve, 2000, "Second got Error")
      );
      let promise3 = new Promise((resolve) =>
        setTimeout(resolve, 3000, "Third")
      );

      Promise.all([promise1, promise2, promise3])
        .then((result) => console.log(result))
        .catch((error) => console.error(error));

      Promise.allSettled([promise1, promise2, promise3]).then((results) => {
        console.log(results);
      });

      let promise4 = new Promise((resolve) =>
        setTimeout(resolve, 1000, "First")
      );
      let promise5 = new Promise((resolve) =>
        setTimeout(resolve, 2000, "Second")
      );

      Promise.race([promise4, promise5]).then((result) => {
        console.log("race result: ", result);
      });

      const obj5 = { name: "Raj" };
      const obj6 = { ...obj5 };
      obj6.age = 23;
      console.log("Object ", obj5);
      console.log("Object ", obj6);
    </script>
  </body>
</html>
